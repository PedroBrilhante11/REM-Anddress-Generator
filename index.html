<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gerador de Endereços REM</title>
  <style>
    :root{font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;margin:0;padding:0}
    body{background:#0f172a;color:#e6eef8;display:flex;align-items:flex-start;justify-content:center;padding:28px}
    .card{width:640px;max-width:96%;background:linear-gradient(180deg,#07102b 0%,#0b1220 100%);border-radius:12px;padding:20px;box-shadow:0 10px 30px rgba(2,6,23,.6);}
    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 18px;color:#a8c0db}
    button{background:#1f6feb;border:none;color:white;padding:10px 12px;border-radius:9px;cursor:pointer;margin-right:8px}
    .output{margin-top:12px;background:linear-gradient(180deg,#061226,#041327);padding:12px;border-radius:8px;min-height:140px;overflow:auto}
    .address{font-family:monospace;background:rgba(255,255,255,.03);padding:8px;border-radius:6px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center}
    .address code{user-select:all}
    .footer{margin-top:16px;color:#7fa1d6;font-size:13px}
    .chip{background:rgba(255,255,255,.03);padding:6px 8px;border-radius:999px;font-size:12px}
  </style>
</head>
<body>
  <div class="card">
    <h1>Gerador de Endereços REM <span class="chip">REM://</span></h1>

    <div>
      <button id="gen">Gerar (10)</button>
    </div>

    <div class="output" id="output" aria-live="polite"></div>    

<script>
  // usa crypto.getRandomValues para evitar sinais negativos ou artefatos
  function rnd(){ const a=new Uint32Array(1); crypto.getRandomValues(a); return a[0] / 0xFFFFFFFF }

  function genIP(){
    const parts = []
    for(let i=0;i<4;i++){
      parts.push(Math.floor(rnd()*256)) // 0..255
    }
    return parts.join('.')
  }

  function genPort(){
    return Math.floor(rnd()*900) + 100 // 100..999
  }

  document.getElementById('gen').addEventListener('click', ()=>{
    const count = 10
    const prefix = 'REM://'

    const out = document.getElementById('output')
    out.innerHTML = ''

    for(let i=0;i<count;i++){
      const ip = genIP()
      const port = genPort()
      const addr = `${prefix}${ip}:${port}/`

      const div = document.createElement('div')
      div.className = 'address'
      const code = document.createElement('code')
      code.textContent = addr
      const btn = document.createElement('button')
      btn.textContent = 'Copiar'
      btn.addEventListener('click', ()=>{ navigator.clipboard.writeText(addr).then(()=>{ btn.textContent='Copiado!'; setTimeout(()=>btn.textContent='Copiar',900) }) })
      div.appendChild(code)
      div.appendChild(btn)
      out.appendChild(div)
    }
  })

  // gera automaticamente na carga da página
  window.addEventListener('load', ()=>document.getElementById('gen').click())
</script>
</body>
</html>
